@namespace ShadcnBlazor
@inherits ProgressRoot
@inject TwMerge TwMerge

<ProgressRoot Id="@Id"
              Class="@(TwMerge.Merge(ClassValue))"
              Style="@Style"
              Min="@Min"
              Max="@Max"
              Value="@Value"
              Visible="@Visible"
              Ref="@Ref"
              @attributes="Attributes">
    <ProgressIndicator Class="h-full w-full flex-1 bg-primary transition-all" Style="@($"transform: translateX(-{100 - (Value ?? 0)}%);")" />
</ProgressRoot>

@code {
    const string DefaultClasses = "relative h-4 w-full overflow-hidden rounded-full bg-secondary";
    const string NewYorkClasses = "relative h-2 w-full overflow-hidden rounded-full bg-primary/20";

    string? ClassValue => new CssBuilder(Class)
        .AddClass(DefaultClasses, NewYorkClasses, IsDefaultStyle)
        .Build();
}