@page "/docs/components/accordion"
@page "/docs/components"
@using ShadcnBlazor.Docs.Pages.Examples
@inherits ShadcnComponentBase
@inject IStringLocalizer<Index> Localizer

<DocsPageHeader Title="Accordion" Breadcrumbs="_breadcrumbs.Items">
    <DocsPageHeaderDescription>
        @Localizer["A vertically stacked set of interactive headings that each reveal a section of content."]
    </DocsPageHeaderDescription>
</DocsPageHeader>

<DocsPageContent>
    <DocsPreview PreviewComponent="@_accordionDefault"
                 CodePath="AccordionDefault.razor" />

    <DocsPageSection Title="Examples">
        <DocsPageSection Title="Expanded by default" Level="3">
            <DocsPreview PreviewComponent="@_accordionExpandedByDefaultPreview"
                         CodePath="AccordionExpandedByDefault.razor" />
        </DocsPageSection>        
        <DocsPageSection Title="Multiple items open at the same time" Level="3">
            <Paragraph>
                To allow opening multiple items simultaneously, set the <InlineCode>Multiple</InlineCode> property to <InlineCode>true</InlineCode>.
            </Paragraph>
            <DocsPreview PreviewComponent="@_accordionMultiple"
                         CodePath="AccordionMultiple.razor" />
        </DocsPageSection>
    </DocsPageSection>

    <DocsPageSection Title="Accessibility">
    </DocsPageSection>
</DocsPageContent>

@code {
    bool _open = true;
    [CascadingParameter]
    LayoutContext LayoutContext { get; set; } = default!;

    BreadcrumbCollection _breadcrumbs = new ComponentsBreadcrumbCollection("Accordion");
    SlotComponent _accordionDefault = new SlotComponent(typeof(AccordionDefault));
    SlotComponent _accordionExpandedByDefaultPreview = new SlotComponent(typeof(AccordionExpandedByDefault));
    SlotComponent _accordionMultiple = new SlotComponent(typeof(AccordionMultiple));

    protected override void OnInitialized()
    {
        LayoutContext.SetLayoutOptions(
            pageTitle: "Accordion",
            useSidebar: true,
            useOutline: true,
            useFooterLinks: true);
    }
}

